(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{364:(e,t,r)=>{"use strict";r.d(t,{$C:()=>o,Gx:()=>x,Jm:()=>u,KZ:()=>f,OE:()=>m,OQ:()=>c,Yq:()=>d,nb:()=>h});var s=r(5512),n=r(9161),a=r(6399),i=r(7716),l=r(8885);let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy年MM月dd日",r=new Date(e);return(0,s.GP)(r,t,{locale:l.ja})},o=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),u=()=>(0,s.GP)(new Date,"yyyy-MM-dd"),c=()=>(0,s.GP)(new Date,"HH:mm"),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=[];for(let r=0;r<24;r++)for(let s=0;s<60;s+=e){let e=r.toString().padStart(2,"0"),n=s.toString().padStart(2,"0");t.push("".concat(e,":").concat(n))}return t},h=e=>{let t=new Date;t.setHours(0,0,0,0);let r=new Date(e);return r.setHours(0,0,0,0),(0,n.Y)(r,t)},x=e=>{let t=new Date(e);return(0,a.c)(t)},f=e=>{let t=new Date;t.setHours(0,0,0,0);let r=new Date(e);return r.setHours(0,0,0,0),(0,i.d)(r,t)}},932:(e,t,r)=>{Promise.resolve().then(r.bind(r,5953))},2056:(e,t,r)=>{"use strict";r.d(t,{Fs:()=>m,Ng:()=>c,OB:()=>d,Td:()=>u,VD:()=>h,r4:()=>i,rq:()=>o});let s="holiday-plans",n=()=>void 0!==window.localStorage,a={getItem:e=>{try{if(!n())return null;return localStorage.getItem(e)}catch(e){return null}},setItem:(e,t)=>{try{if(!n())return;localStorage.setItem(e,t)}catch(e){}}},i=()=>{if(!n())return[];let e=a.getItem(s);return e?JSON.parse(e):[]},l=e=>{n()&&a.setItem(s,JSON.stringify(e))},d=e=>n()&&i().find(t=>t.id===e)||null,o=e=>{if(!n())return;let t=i();t.push(e),l(t)},u=e=>{n()&&l(i().filter(t=>t.id!==e))},c=(e,t)=>{if(!n())return;let r=i(),s=r.findIndex(t=>t.id===e);-1!==s&&(r[s].schedules.push(t),l(r))},m=(e,t)=>{if(!n())return;let r=i(),s=r.findIndex(t=>t.id===e);if(-1!==s){let e=r[s].schedules.findIndex(e=>e.id===t.id);-1!==e&&(r[s].schedules[e]=t,l(r))}},h=(e,t)=>{if(!n())return;let r=i(),s=r.findIndex(t=>t.id===e);-1!==s&&(r[s].schedules=r[s].schedules.filter(e=>e.id!==t),l(r))}},5710:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var s=r(5155);r(2115);let n=e=>{let{children:t,className:r=""}=e;return(0,s.jsx)("div",{className:"max-w-md mx-auto px-4 h-full ".concat(r),children:t})}},5953:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,runtime:()=>m});var s=r(5155),n=r(2115),a=r(5695),i=r(7869),l=r(5710),d=r(2056),o=r(364),u=r(8023),c=r(8932);let m="edge";function h(){let e=(0,a.useRouter)(),[t,r]=(0,n.useState)(""),[m,h]=(0,n.useState)((0,o.Jm)()),[x,f]=(0,n.useState)(!1),[g,p]=(0,n.useState)(!1),{setDirection:v}=(0,u.c)();return((0,n.useEffect)(()=>{p(!0)},[]),g)?(0,s.jsxs)(l.m,{className:"py-6",children:[(0,s.jsxs)(c.Z,{className:"mb-6 flex items-center",children:[(0,s.jsx)(i.P.button,{onClick:()=>{v("backward"),e.back()},className:"mr-4 p-2 rounded-full hover:bg-secondary/50 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,s.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-[#67A599]",children:"新しい休日プラン"})]}),(0,s.jsx)(c.Z,{delay:.1,className:"space-y-6",children:(0,s.jsx)("form",{onSubmit:r=>{if(r.preventDefault(),!t.trim())return void alert("タイトルを入力してください");f(!0);try{let r={id:(0,o.$C)(),title:t.trim(),date:m,schedules:[]};(0,d.rq)(r),setTimeout(()=>{e.push("/plan/".concat(r.id))},300)}catch(e){f(!1),alert("プランの保存中にエラーが発生しました。もう一度お試しください。")}},children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-muted-foreground",children:"タイトル"}),(0,s.jsx)("input",{id:"title",type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"例: GW、夏休み、誕生日など",className:"w-full px-4 py-3 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-muted-foreground",children:"日付"}),(0,s.jsx)("input",{id:"date",type:"date",value:m,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,s.jsx)(i.P.button,{type:"submit",className:"w-full py-3 bg-[#67A599] text-white rounded-lg font-medium shadow-md hover:bg-[#67A599]/90",whileHover:{scale:1.01,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},disabled:x,children:x?"作成中...":"休日プランを作成"})]})})})]}):(0,s.jsx)(l.m,{className:"py-6 flex flex-col items-center justify-center min-h-[60vh]",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("div",{className:"text-2xl mb-4",children:"読み込み中..."})})})}},8023:(e,t,r)=>{"use strict";r.d(t,{NavigationProvider:()=>i,c:()=>l});var s=r(5155),n=r(2115);let a=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,n.useState)("forward");return(0,s.jsx)(a.Provider,{value:{direction:r,setDirection:i},children:t})}function l(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useNavigation must be used within a NavigationProvider");return e}},8932:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(5155),n=r(7869),a=r(8023);function i(e){let{children:t,className:r="",delay:i=0}=e,{direction:l}=(0,a.c)();return(0,s.jsx)(n.P.div,{initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0,x:"forward"===l?100:-100},animate:{opacity:1,x:0,transition:{duration:.4,ease:"easeOut",delay:i}},exit:{opacity:0,x:"forward"===l?-100:100,transition:{duration:.4,ease:"easeIn"}}},className:r,children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[343,441,317,358],()=>t(932)),_N_E=e.O()}]);