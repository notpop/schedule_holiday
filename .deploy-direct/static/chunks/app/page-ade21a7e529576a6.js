(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3792:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var l=s(5155),i=s(2115),n=s(5695),a=s(7869),r=s(760),o=s(2056),d=s(364),c=s(5710),h=s(8023),x=s(8932);function m(){let[e,t]=(0,i.useState)([]),[s,m]=(0,i.useState)(""),[p,g]=(0,i.useState)(null),w=(0,n.useRouter)(),{setDirection:j}=(0,h.c)();(0,i.useEffect)(()=>{m(new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"2-digit",minute:"2-digit"})),t([...(0,o.r4)()].sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()))},[]);let f=(e,t)=>{t.offset.x<-80&&30>Math.abs(t.offset.y)?g(e):g(null)},v=e=>{(0,o.Td)(e),t(t=>t.filter(t=>t.id!==e)),g(null)},N=e=>{null===p&&(j("forward"),w.push("/plan/".concat(e)))},y=e.filter(e=>(0,d.KZ)(e.date)||(0,d.Gx)(e.date)),b=e.filter(e=>(0,d.nb)(e.date));return(0,l.jsxs)(c.m,{className:"py-6 flex flex-col",children:[(0,l.jsxs)(x.Z,{className:"mb-2",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-1 text-[#67A599]",children:"Holidays"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:s})]}),e.length>0&&(0,l.jsx)(a.P.div,{className:"mb-5 text-center text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:(0,l.jsxs)("div",{className:"bg-secondary/40 py-2 px-4 rounded-full inline-flex items-center",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:(0,l.jsx)("path",{d:"M14 9l-6 6 6 6"})}),(0,l.jsx)("p",{children:"左にスワイプして削除"})]})}),0===e.length?(0,l.jsxs)(x.Z,{delay:.2,className:"flex flex-col items-center justify-center h-[60vh] text-center",children:[(0,l.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCC5"}),(0,l.jsx)("p",{className:"text-lg mb-6 text-muted-foreground",children:"休日プランがまだありません"}),(0,l.jsxs)(a.P.button,{className:"bg-[#67A599] text-white py-4 px-8 rounded-full font-medium shadow-lg border-none hover:opacity-90 flex items-center gap-2",onClick:()=>{j("forward"),w.push("/create")},whileTap:{scale:.95},initial:{scale:1},whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,l.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"新しい休日プランを作成"]})]}):(0,l.jsxs)("div",{className:"space-y-4",children:[y.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-medium mb-3 text-[#67A599]",children:"今後の休日"}),(0,l.jsx)(r.N,{children:(0,l.jsx)("div",{className:"space-y-3",children:y.map((e,t)=>(0,l.jsx)(u,{plan:e,index:t,isPast:!1,onSwipe:f,onDelete:v,onNavigate:N,isActiveSwipe:p===e.id},e.id))})})]}),b.length>0&&(0,l.jsxs)("div",{className:"mt-8",children:[(0,l.jsx)("h2",{className:"text-xl font-medium mb-3 text-[#C17C74]",children:"過去の休日"}),(0,l.jsx)(r.N,{children:(0,l.jsx)("div",{className:"space-y-3",children:b.map((e,t)=>(0,l.jsx)(u,{plan:e,index:t,isPast:!0,onSwipe:f,onDelete:v,onNavigate:N,isActiveSwipe:p===e.id},e.id))})})]})]}),e.length>0&&(0,l.jsx)(a.P.div,{className:"fixed bottom-6 right-6 z-50",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring"},children:(0,l.jsx)(a.P.button,{onClick:()=>{j("forward"),w.push("/create")},className:"bg-[#67A599] text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg border-none",whileHover:{scale:1.05,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},"aria-label":"新しい休日プランを作成",children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,l.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,l.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})})})]})}function u(e){let{plan:t,index:s,isPast:i,onSwipe:n,onDelete:r,onNavigate:o,isActiveSwipe:c}=e,h=t.schedules.length>0?t.schedules.sort((e,t)=>{let[s,l]=e.startTime.split(":").map(Number),[i,n]=t.startTime.split(":").map(Number);return 60*s+l-(60*i+n)})[0]:null;return(0,l.jsxs)(x.Z,{delay:.1*s,className:"relative overflow-hidden rounded-2xl",children:[(0,l.jsx)(a.P.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.1,onDragEnd:(e,s)=>n(t.id,s),className:"relative",layout:!0,children:(0,l.jsxs)("div",{onClick:()=>o(t.id),className:"w-full p-5 ".concat(i?"bg-secondary/70":"bg-[#67A599]"," text-white rounded-2xl border-none transition-all cursor-pointer shadow-md hover:shadow-lg"),children:[(0,l.jsxs)("div",{className:"pr-4",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:t.title}),(0,l.jsx)("p",{className:"text-sm opacity-90",children:(0,d.Yq)(t.date)}),(0,l.jsx)("div",{className:"mt-2 text-sm",children:0===t.schedules.length?(0,l.jsx)("p",{className:"opacity-80",children:"予定なし"}):h?(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-medium",children:[h.title," ",h.startTime,"～"]}),(0,l.jsx)("p",{className:"opacity-80",children:t.schedules.length>1?"他".concat(t.schedules.length-1,"件の予定"):""})]}):(0,l.jsxs)("p",{children:[t.schedules.length,"個の予定"]})})]}),(0,l.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-90",children:(0,l.jsx)("path",{d:"M9 18l6-6-6-6"})})})]})}),(0,l.jsx)(a.P.div,{className:"absolute top-0 right-0 h-full flex items-center",initial:{opacity:0,width:0},animate:{opacity:+!!c,width:80*!!c},transition:{duration:.2},children:(0,l.jsxs)("button",{onClick:()=>r(t.id),className:"h-full w-full bg-[#C17C74] flex items-center justify-center text-white rounded-r-2xl",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M3 6h18M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})}),(0,l.jsx)("span",{className:"ml-1",children:"削除"})]})})]})}},8424:(e,t,s)=>{Promise.resolve().then(s.bind(s,3792))}},e=>{var t=t=>e(e.s=t);e.O(0,[343,48,441,317,358],()=>t(8424)),_N_E=e.O()}]);