(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{364:(e,t,r)=>{"use strict";r.d(t,{$C:()=>d,Gx:()=>f,Jm:()=>u,KZ:()=>x,OE:()=>m,OQ:()=>c,Yq:()=>o,nb:()=>h});var n=r(5512),s=r(9161),a=r(6399),i=r(7716),l=r(8885);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy年MM月dd日",r=new Date(e);return(0,n.GP)(r,t,{locale:l.ja})},d=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),u=()=>(0,n.GP)(new Date,"yyyy-MM-dd"),c=()=>(0,n.GP)(new Date,"HH:mm"),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=[];for(let r=0;r<24;r++)for(let n=0;n<60;n+=e){let e=r.toString().padStart(2,"0"),s=n.toString().padStart(2,"0");t.push("".concat(e,":").concat(s))}return t},h=e=>{let t=new Date;t.setHours(0,0,0,0);let r=new Date(e);return r.setHours(0,0,0,0),(0,s.Y)(r,t)},f=e=>{let t=new Date(e);return(0,a.c)(t)},x=e=>{let t=new Date;t.setHours(0,0,0,0);let r=new Date(e);return r.setHours(0,0,0,0),(0,i.d)(r,t)}},1003:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,runtime:()=>h});var n=r(5155),s=r(2115),a=r(5695),i=r(2056),l=r(7869),o=r(5710),d=r(364),u=r(8023),c=r(8932);function m(e){let{planId:t}=e,r=(0,a.useRouter)(),[m,h]=(0,s.useState)(""),[f,x]=(0,s.useState)("00:00"),[g,p]=(0,s.useState)("00:10"),[b,v]=(0,s.useState)(""),[y,w]=(0,s.useState)(!1),{setDirection:N}=(0,u.c)(),j=(0,d.OE)(10);return(0,n.jsxs)(o.m,{className:"py-6",children:[(0,n.jsxs)(c.Z,{className:"mb-6 flex items-center",children:[(0,n.jsx)("button",{onClick:()=>{N("backward"),r.back()},className:"mr-4 p-2 rounded-full hover:bg-accent/10 transition-colors","aria-label":"戻る",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-[#67A599]",children:"予定を追加"})]}),(0,n.jsxs)(c.Z,{delay:.1,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-muted-foreground",children:"タイトル"}),(0,n.jsx)("input",{id:"title",type:"text",value:m,onChange:e=>h(e.target.value),placeholder:"例: ジョギング、読書、買い物など",className:"w-full px-4 py-3 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"startTime",className:"block text-sm font-medium text-muted-foreground",children:"開始時間"}),(0,n.jsx)("select",{id:"startTime",value:f,onChange:e=>x(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-primary",children:j.map(e=>(0,n.jsx)("option",{value:e,children:e},"start-".concat(e)))})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"endTime",className:"block text-sm font-medium text-muted-foreground",children:"終了時間"}),(0,n.jsx)("select",{id:"endTime",value:g,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-primary",children:j.map(e=>(0,n.jsx)("option",{value:e,children:e},"end-".concat(e)))})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"memo",className:"block text-sm font-medium text-muted-foreground",children:"メモ（任意）"}),(0,n.jsx)("textarea",{id:"memo",value:b,onChange:e=>v(e.target.value),placeholder:"メモを入力",className:"w-full px-4 py-3 h-32 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),(0,n.jsx)(l.P.button,{type:"submit",className:"w-full py-3 bg-[#67A599] text-white rounded-xl font-medium shadow-md hover:shadow-lg",whileTap:{scale:.98},disabled:y,onClick:e=>{if(e.preventDefault(),!m.trim())return void alert("タイトルを入力してください");let[n,s]=f.split(":").map(Number),[a,l]=g.split(":").map(Number);if(60*n+s>=60*a+l)return void alert("終了時間は開始時間より後に設定してください");w(!0);let o={id:(0,d.$C)(),date:"",title:m.trim(),startTime:f,endTime:g,memo:b.trim()};(0,i.Ng)(t,o),setTimeout(()=>{r.push("/plan/".concat(t))},300)},children:y?"作成中...":"予定を追加"})]})]})}let h="edge";function f(e){let{params:t}=e,{id:r}=t,l=(0,a.useRouter)(),[o,d]=(0,s.useState)(!1),[u,c]=(0,s.useState)(!0),[h,f]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{f(!0),(0,i.OB)(r)?d(!0):l.push("/"),c(!1)},[r,l]),h)?u?(0,n.jsx)("div",{children:"読み込み中..."}):o?(0,n.jsx)(m,{planId:r}):(0,n.jsx)("div",{children:"プランが見つかりませんでした"}):(0,n.jsx)("div",{className:"py-6 flex justify-center",children:"読み込み中..."})}},2056:(e,t,r)=>{"use strict";r.d(t,{Fs:()=>m,Ng:()=>c,OB:()=>o,Td:()=>u,VD:()=>h,r4:()=>i,rq:()=>d});let n="holiday-plans",s=()=>void 0!==window.localStorage,a={getItem:e=>{try{if(!s())return null;return localStorage.getItem(e)}catch(e){return null}},setItem:(e,t)=>{try{if(!s())return;localStorage.setItem(e,t)}catch(e){}}},i=()=>{if(!s())return[];let e=a.getItem(n);return e?JSON.parse(e):[]},l=e=>{s()&&a.setItem(n,JSON.stringify(e))},o=e=>s()&&i().find(t=>t.id===e)||null,d=e=>{if(!s())return;let t=i();t.push(e),l(t)},u=e=>{s()&&l(i().filter(t=>t.id!==e))},c=(e,t)=>{if(!s())return;let r=i(),n=r.findIndex(t=>t.id===e);-1!==n&&(r[n].schedules.push(t),l(r))},m=(e,t)=>{if(!s())return;let r=i(),n=r.findIndex(t=>t.id===e);if(-1!==n){let e=r[n].schedules.findIndex(e=>e.id===t.id);-1!==e&&(r[n].schedules[e]=t,l(r))}},h=(e,t)=>{if(!s())return;let r=i(),n=r.findIndex(t=>t.id===e);-1!==n&&(r[n].schedules=r[n].schedules.filter(e=>e.id!==t),l(r))}},5710:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var n=r(5155);r(2115);let s=e=>{let{children:t,className:r=""}=e;return(0,n.jsx)("div",{className:"max-w-md mx-auto px-4 h-full ".concat(r),children:t})}},8023:(e,t,r)=>{"use strict";r.d(t,{NavigationProvider:()=>i,c:()=>l});var n=r(5155),s=r(2115);let a=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)("forward");return(0,n.jsx)(a.Provider,{value:{direction:r,setDirection:i},children:t})}function l(){let e=(0,s.useContext)(a);if(void 0===e)throw Error("useNavigation must be used within a NavigationProvider");return e}},8550:(e,t,r)=>{Promise.resolve().then(r.bind(r,1003))},8932:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(5155),s=r(7869),a=r(8023);function i(e){let{children:t,className:r="",delay:i=0}=e,{direction:l}=(0,a.c)();return(0,n.jsx)(s.P.div,{initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0,x:"forward"===l?100:-100},animate:{opacity:1,x:0,transition:{duration:.4,ease:"easeOut",delay:i}},exit:{opacity:0,x:"forward"===l?-100:100,transition:{duration:.4,ease:"easeIn"}}},className:r,children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[343,441,317,358],()=>t(8550)),_N_E=e.O()}]);